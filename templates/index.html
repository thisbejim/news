{% extends "base.html" %}

{% block title %}Homepage{% endblock %}
{% block content %}

<!--Featured Articles-->
<div class="row visible-md visible-lg">
	<div class="col-md-4">
		{% if featured_article_one['timeOfApproval'] != 0 %}
		<div class="row feature-container">
			<div class="col-md-12 remove-padding">
				<a href="{{ url_for('article', article_id=featured_article_one['id'], article_tag_line=featured_article_one['url_safe'])}}">
					<img class="img-responsive" src="{{featured_article_one['img_url']}}"></img>
					<h2 class="caption">{{featured_article_one['tag_line']}}</h2>
				</a>
			</div>
		</div>
		{% endif %}
	</div>
	<div class="col-md-4">
		{% for i in popular_articles %}
		{% if i['timeOfApproval'] != 0 %}
		<div class="row article-container">
			<div class="col-md-4 remove-padding">
				<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
					<img class="img-responsive" width="100" height="100" src="{{i['img_url']}}"></img>
			</div>
			<div class="col-md-8">
				<div class="row">
					<div class="col-md-12">
						<h3 class="featured-article-title">{{i['tag_line']}}</h3>
					</div>
				</div>
				</a>
			</div>
		</div>
		{% endif %}
		{% endfor %}
	</div>
	<div class="col-md-4">
		{% if featured_article_two['timeOfApproval'] != 0 %}
		<div class="row feature-container">
			<div class="col-md-12 remove-padding">
				<a href="{{ url_for('article', article_id=featured_article_two['id'], article_tag_line=featured_article_two['url_safe'])}}">
					<img class="img-responsive" src="{{featured_article_two['img_url']}}"></img>
					<h2 class="caption">{{featured_article_two['tag_line']}}</h2>
				</a>
			</div>
		</div>
		{% endif %}
	</div>
</div>

<!--New Articles-->

<!--Medium and Large Layout-->
<div class="row visible-md visible-lg">
	<div class="col-md-6">
		{% set index = 1 %}
		{% for i in articles %}
		{% if i['timeOfApproval'] != 0 and (index % 2) != 0 %}
		<div class="row article-container">
			<div class="col-md-4 remove-padding">
				<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
					<img class="img-responsive" src="{{i['img_url']}}"></img>
					<p class="category-overlay">{{i['articleCategory']}}</p>
				</a>
			</div>
			<div class="col-md-8">
				<div class="row">
					<div class="col-md-12">
						<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
							<h3 class="article-title">{{i['tag_line']}}</h3>
						</a>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<p class="author-margin">{{i['timeDif']}} by <span class="article-author">{{i['author']}}.</span></p>
					</div>
				</div>
			</div>
		</div>
		{% set index = index + 1 %}
		{% else %}
		{% set index = index + 1 %}
		{% endif %}
		{% endfor %}
	</div>
	<div class="col-md-6">
		{% for i in articles %}
		{% if i['timeOfApproval'] != 0 and index % 2 == 0 %}
		<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
			<div class="row article-container">
				<div class="col-md-4 remove-padding">
					<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
						<img class="img-responsive" src="{{i['img_url']}}"></img>
						<p class="category-overlay">{{i['articleCategory']}}</p>
					</a>
				</div>
				<div class="col-md-8">
					<div class="row">
						<div class="col-md-12">
							<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
								<h3 class="article-title">{{i['tag_line']}}</h3>
							</a>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<p class="author-margin">{{i['timeDif']}} by <span class="article-author">{{i['author']}}.</span></p>
						</div>
					</div>
				</div>
			</div>
		{% set index = index + 1 %}
		{% else %}
		{% set index = index + 1 %}
		{% endif %}
		{% endfor %}
	</div>
</div>

<!--Small Layout-->
<div class="row visible-sm">
	<div class="col-sm-2">
	</div>
	<div class="col-sm-8">
		{% for i in articles %}
		{% if i['timeOfApproval'] != 0 %}
		<div class="row article-container">
			<div class="col-sm-4 remove-padding">
				<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['url_safe'])}}">
					<img class="img-responsive" src="{{i['img_url']}}"></img>
				</a>
			</div>
			<div class="col-sm-8">
				<div class="row">
					<div class="col-sm-12">
						<h2 class="article-title">{{i['tag_line']}}</h2>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<p>{{i['timeDif']}} by <span class="article-author">{{i['author']}}.</span></p>
					</div>
				</div>
			</div>
		</div>
		{% endif %}
		{% endfor %}
	</div>
</div>

<!--Extra Small Layout-->
<div class="row visible-xs">
	<div class="col-xs-6">
		{% set index = 1 %}
		{% for i in articles %}
		{% if i['timeOfApproval'] != 0 and (index % 2) != 0 %}
		<div class="row article-container">
			<div clas="col-xs-12">
				<div class="row">
					<div class="col-xs-12 remove-padding">
						<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['tag_line'])}}">
							<img class="img-responsive" src="{{i['img_url']}}"></img>
						</a>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<h2 class="article-title small-padding">{{i['tag_line']}}</h2>
					</div>
				</div>
			</div>
		</div>
		{% set index = index + 1 %}
		{% else %}
		{% set index = index + 1 %}
		{% endif %}
		{% endfor %}
	</div>
	<div class="col-xs-6">
		{% for i in articles %}
		{% if i['timeOfApproval'] != 0 and index % 2 == 0 %}
		<div class="row article-container">
			<div clas="col-xs-12">
				<div class="row">
					<div class="col-xs-12 remove-padding">
						<a href="{{ url_for('article', article_id=i['id'], article_tag_line=i['tag_line'])}}">
							<img class="img-responsive" src="{{i['img_url']}}"></img>
						</a>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<h2 class="article-title small-padding">{{i['tag_line']}}</h2>
					</div>
				</div>
			</div>
		</div>
		{% set index = index + 1 %}
		{% else %}
		{% set index = index + 1 %}
		{% endif %}
		{% endfor %}
	</div>
</div>

{% if article_count == 2 %}
<a href="{{ url_for('pagination', page_number=2, last_article_date=articles[-1]['timeOfApproval'])}}">Next Page</a>
{% endif %}

{% endblock %}

